/*! blossom-shop-pro 2.1.8 2021-11-22 4:44:52 PM */

jQuery.fn.isOnScreen=function(){var a=jQuery(window),o={top:a.scrollTop(),left:a.scrollLeft()};o.right=o.left+a.width(),o.bottom=o.top+a.height();a=this.offset();return a.right=a.left+this.outerWidth(),a.bottom=a.top+this.outerHeight(),!(o.right<a.left||o.left>a.right||o.bottom<a.top||o.top>a.bottom)},jQuery(document).ready(function(o){var s,t,l,a,e,i;"undefined"!=typeof blossom_shop_pro_ajax&&(s=parseInt(blossom_shop_pro_ajax.startPage)+1,t=parseInt(blossom_shop_pro_ajax.maxPages),l=blossom_shop_pro_ajax.nextLink,rtl="1"==blossom_shop_pro_ajax.rtl,"load_more"==(a=blossom_shop_pro_ajax.autoLoad)?(o(".pagination").before('<div class="pagination_holder" style="display: none;"></div>').after('<div id="load-posts"><a href="javascript:void(0);"><i class="fas fa-sync-alt"></i>'+blossom_shop_pro_ajax.loadmore+"</a></div>"),s==t+1&&o("#load-posts a").html('<i class="fas fa-ban"></i>'+blossom_shop_pro_ajax.nomore).addClass("disabled"),o("#load-posts a").on("click",function(){return s<=t&&!o(this).hasClass("loading")&&(o(this).html('<i class="fas fa-sync-alt fa-spinner"></i>'+blossom_shop_pro_ajax.loading).addClass("loading"),o(".pagination_holder").load(l+" .latest_post",function(){s++;l=l.replace(/(\/?)page(\/|d=)[0-9]+/,"$1page$2"+s);var a=o(".pagination_holder").html();o(".pagination_holder").html(""),o(".site-main article:last").after(a),o(".site-main").find(".entry-content").find("div").hasClass("tiled-gallery")&&o.getScript(blossom_shop_pro_ajax.plugin_url+"/jetpack/modules/tiled-gallery/tiled-gallery/tiled-gallery.js"),(s<=t?o("#load-posts a").html('<i class="fas fa-sync-alt"></i>'+blossom_shop_pro_ajax.loadmore):o("#load-posts a").html('<i class="fas fa-ban"></i>'+blossom_shop_pro_ajax.nomore).addClass("disabled")).removeClass("loading")})),!1}),o(".pagination").remove()):"infinite_scroll"==a&&(o(".pagination").before('<div class="pagination_holder" style="display: none;"></div>'),i=e=!1,(0<o(".blog").length||0<o(".search").length||0<o(".archive").length)&&o(window).on("scroll",function(){e||i||o(".latest_post").last().isOnScreen()&&(s<=t?(e=!0,o(".pagination_holder").load(l+" .latest_post",function(){s++;e=!1,l=l.replace(/(\/?)page(\/|d=)[0-9]+/,"$1page$2"+s);var a=o(".pagination_holder").html();o(".pagination_holder").html(""),o(".site-main article:last").after(a),o(".site-main").find(".entry-content").find("div").hasClass("tiled-gallery")&&o.getScript(blossom_shop_pro_ajax.plugin_url+"/jetpack/modules/tiled-gallery/tiled-gallery/tiled-gallery.js")})):i=!0)}),o(".pagination").remove()))});